"use strict";(self.webpackChunkjko_doc=self.webpackChunkjko_doc||[]).push([[611],{8275:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"usage/jkojs","title":"jko.js","description":"jko.js defines the ecosystem for running tasks.","source":"@site/docs/usage/jkojs.md","sourceDirName":"usage","slug":"/usage/jkojs","permalink":"/usage/jkojs","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"sidebar_position":0,"keywords":["jko.js","scripts","dependencies","devDependencies","envFile","logLevel","packageManager","package.json","extending scripts"]},"sidebar":"tutorialSidebar","previous":{"title":"Usage","permalink":"/category/usage"},"next":{"title":"Run Scripts","permalink":"/usage/run-script"}}');var r=s(4848),t=s(8453);const c={sidebar_position:0,keywords:["jko.js","scripts","dependencies","devDependencies","envFile","logLevel","packageManager","package.json","extending scripts"]},d="jko.js",o={},a=[{value:"Extending Scripts with External Files",id:"extending-scripts-with-external-files",level:2},{value:"Create a Custom Tree of Dependencies",id:"create-a-custom-tree-of-dependencies",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"jkojs",children:"jko.js"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"jko.js"})," defines the ecosystem for running tasks."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"jko.js"})," file must default export an object that can contain any number of fields."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"jko.js"})," defines a small set of fields:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"scripts"})}),": Specifies the tasks or commands available."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"dependencies"})}),": Lists the packages that the project depends on."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"devDependencies"})}),": Lists the packages required for development."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"envFile"})}),": Points to a file containing default environment variables."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"logLevel"})}),": Sets the default verbosity level for logging."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"packageManager"})}),": Sets the default package manager to be used."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"All these fields are optional and can be included based on your needs."}),"\n",(0,r.jsx)(n.li,{children:"Any field not defined in this set will be silently ignored, so you can add additional properties as desired."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'export default {\n  scripts: {\n    yourScript1: "someCommand",\n    yourScript2: function (param1, paramN) {\n      // do something\n    }\n  },\n  envFile: \'./path/to/.env\',\n  dependencies: {\n    packageName1: "#.#.#",\n    packageNameN: "#.#.#"\n  },\n  devDependencies: {\n    devPackageName1: "#.#.#",\n    devPackageNameN: "#.#.#"\n  },\n  packageManager: \'npm\',\n  logLevel: \'error\',\n}\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["All these options can be overridden in one way or another through ",(0,r.jsx)(n.a,{href:"cli",children:"command line options"}),"."]})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"jko.js"})," takes precedence over ",(0,r.jsx)(n.code,{children:"package.json"}),"."]})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Although ",(0,r.jsx)(n.code,{children:"envFile"})," and ",(0,r.jsx)(n.code,{children:"logLevel"})," are not predefined in ",(0,r.jsx)(n.code,{children:"package.json"}),", you can add them to the file, where they will be recognized by ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"jko"})}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"extending-scripts-with-external-files",children:"Extending Scripts with External Files"}),"\n",(0,r.jsxs)(n.p,{children:["Leveraging the dynamic capabilities of JavaScript, ",(0,r.jsx)(n.code,{children:"jko.js"})," files allow you to extend scripts and easily create dependency trees using external files\u2014capabilities that ",(0,r.jsx)(n.code,{children:"package.json"})," cannot accommodate due to its static JSON structure."]}),"\n",(0,r.jsx)(n.p,{children:"Steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create an External File:"}),"\nDefine your additional scripts in a separate file and ensure that the file exports a default object containing a ",(0,r.jsx)(n.code,{children:"scripts"})," field."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"extra-scripts.js"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'export default {\n  scripts: {\n    yourScript: "someCommand"\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Reference the File in Your ",(0,r.jsx)(n.code,{children:"jko.js"})," file:"]}),"\nImport or require the external file in ",(0,r.jsx)(n.code,{children:"jko.js"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"jko.js"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import extraScripts from './extra-scripts'\n"})}),"\n",(0,r.jsx)(n.p,{children:"This step links the external definitions to your main script setup."}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Merge the Script Definitions:"}),"\nCombine the scripts from the external file with your main set of scripts in the ",(0,r.jsx)(n.code,{children:"jko.js"}),". You can do this manually or use a merging strategy (such as object spreading or a deep merge function) to consolidate all script definitions into one cohesive configuration."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-md",children:" project-folder/\n \u251c\u2500\u2500 jko.js\n \u251c\u2500\u2500 extra-scripts.js\n \u2514\u2500\u2500 node_modules/somePackage/index.js\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"jko.js"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"  import extraScripts from './extra-scripts'\n  import fromSomePackageScripts from 'somePackage'\n\n  export default {\n    // highlight-start\n    scripts: {\n      ...extraScripts.scripts,\n      ...fromSomePackageScripts.scripts\n    }\n    // highlight-end\n  }\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test and Validate:"}),"\nRun ",(0,r.jsx)(n.code,{children:"jko"})," to ensure that the extended scripts integrate seamlessly and work as expected. Adjust any configurations as needed."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:"$ jko\n"})}),"\n",(0,r.jsx)(n.p,{children:"A similar approach can be applied to dependencies. Check out the example below!"}),"\n",(0,r.jsx)(n.h3,{id:"create-a-custom-tree-of-dependencies",children:"Create a Custom Tree of Dependencies"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-md",children:" project-folder/\n \u251c\u2500\u2500 jko.js\n \u251c\u2500\u2500 dependencies.js\n \u251c\u2500\u2500 some/path/dependencies.js\n \u251c\u2500\u2500 another/path/dependencies.js\n \u2514\u2500\u2500 node_modules/package/dependencies.js\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"jko.js"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"import { dependencies as dependencies1 } from './some/path/dependencies'\nimport { devDependencies } from './another/path/dependencies'\nimport { dependencies as dependencies2 } from 'package/dependencies'\n\n\nexport default {\n  dependencies: {\n    ...dependencies1,\n    ...dependencies2,\n  },\n devDependencies\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var i=s(6540);const r={},t=i.createContext(r);function c(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);